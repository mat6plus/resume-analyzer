{% extends 'base.html' %}

{% block title %}Analysis Results{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto" x-data="{ results: null }" x-init="fetchResults">
    <h1 class="text-3xl font-bold mb-4">Analysis Results</h1>
    <div x-show="!results" class="text-center">
        <p class="mb-4">Analyzing your resume...</p>
        <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
            <div class="bg-blue-600 h-2.5 rounded-full" x-bind:style="'width: ' + progress + '%'"></div>
        </div>
    </div>
    <div x-show="results">
        <div class="mb-6">
            <h2 class="text-2xl font-semibold mb-2">Match Percentage</h2>
            <div class="w-full bg-gray-200 rounded-full h-4 dark:bg-gray-700">
                <div class="bg-green-600 h-4 rounded-full" x-bind:style="'width: ' + results.match_percentage + '%'"></div>
            </div>
            <p class="mt-2 text-lg font-medium" x-text="results.match_percentage.toFixed(2) + '%'"></p>
        </div>
        <div class="mb-6">
            <h2 class="text-2xl font-semibold mb-2">Suggestions</h2>
            <p x-text="results.suggestions" class="text-gray-700"></p>
        </div>
        <div class="mt-8">
            <a href="{% url 'job_posting_input' %}" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded inline-block">